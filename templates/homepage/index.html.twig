{% extends 'base.html.twig' %}

{% block title %}Hello HomepageController!{% endblock %}

{% block body %}

    <section class="row">
        <div class="col-12 p-5">
            SLIDER
        </div>
    </section>

    <section class="row p-2">

        <div class="col-12 p-3">
            <h2>Categor√≠as</h2>
        </div>

        {% for category in categories %}
            <div class="col-6 col-md-4 col-lg-3 py-2">
                <div class="border shadow-sm">
                    <h3 class="bg-dark text-white text-center p-2 mb-0">{{ category.name }}</h3>

                    {% if category.children|length > 0 %}
                    <div class="list-group rounded-0">
                        {% for child in category.children %}
                            <a href="{{ path('category', {'slug':child.slug}) }}"
                                class="list-group-item list-group-item-action">
                                {% if child.thumbnail %}
                                    <img src="{{ child.thumbnail }}" width="30" height="30" alt="{{ child.slug }}">
                                {% endif %}
                                {{ child.name }}
                            </a>
                        {% endfor %}
                    </div>
                    {% else %}
                    <div class="list-group rounded-0">
                        {% for post in category.posts %}
                            <a href="{{ path('post', {'slug':post.slug}) }}"
                                class="list-group-item list-group-item-action">
                                {% if post.thumbnail %}
                                    <img src="{{ post.thumbnail }}" width="30" height="30" alt="{{ post.slug }}">
                                {% endif %}
                                {{ post.title }}
                            </a>
                        {% endfor %}
                    </div>
                    {% endif %}

                </div>
            </div>
        {% endfor %}
        
    </section>

{% endblock %}
